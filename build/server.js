/*! For license information please see server.js.LICENSE */
!function(S){function n(e){var n=require("./"+e+"."+k+".hot-update.js");!function(e,n){if(!C[e]||!p[e])return;for(var t in p[e]=!1,n)Object.prototype.hasOwnProperty.call(n,t)&&(R[t]=n[t]);0==--u&&0===d&&m()}(n.id,n.modules)}var c,r=!0,k="0fd275cf92185085c994",A={},H=[],o=[];function i(n){var t=z[n];if(!t)return L;function r(e){return t.hot.active?(z[e]?-1===z[e].parents.indexOf(n)&&z[e].parents.push(n):(H=[n],c=e),-1===t.children.indexOf(e)&&t.children.push(e)):(console.warn("[HMR] unexpected require("+e+") from disposed module "+n),H=[]),L(e)}function e(n){return{configurable:!0,enumerable:!0,get:function(){return L[n]},set:function(e){L[n]=e}}}for(var o in L)Object.prototype.hasOwnProperty.call(L,o)&&"e"!==o&&"t"!==o&&Object.defineProperty(r,o,e(o));return r.e=function(e){return"ready"===I&&T("prepare"),d++,L.e(e).then(n,function(e){throw n(),e});function n(){d--,"prepare"===I&&(s[e]||h(e),0===d&&0===u&&m())}},r.t=function(e,n){return 1&n&&(e=r(e)),L.t(e,-2&n)},r}var a=[],I="idle";function T(e){I=e;for(var n=0;n<a.length;n++)a[n].call(null,e)}var l,R,M,u=0,d=0,s={},p={},C={};function U(e){return+e+""===e?+e:e}function f(e){if("idle"!==I)throw new Error("check() is only allowed in idle status");return r=e,T("check"),function(){try{var e=require("./"+k+".hot-update.json")}catch(e){return Promise.resolve()}return Promise.resolve(e)}().then(function(e){if(!e)return T("idle"),null;p={},s={},C=e.c,M=e.h,T("prepare");var n=new Promise(function(e,n){l={resolve:e,reject:n}});R={};return h(0),"prepare"===I&&0===d&&0===u&&m(),n})}function h(e){C[e]?(p[e]=!0,u++,n(e)):s[e]=!0}function m(){T("ready");var n=l;if(l=null,n)if(r)Promise.resolve().then(function(){return v(r)}).then(function(e){n.resolve(e)},function(e){n.reject(e)});else{var e=[];for(var t in R)Object.prototype.hasOwnProperty.call(R,t)&&e.push(U(t));n.resolve(e)}}function v(t){if("ready"!==I)throw new Error("apply() is only allowed in ready status");var e,n,r,d,o;function c(e){for(var n=[e],t={},r=n.map(function(e){return{chain:[e],id:e}});0<r.length;){var o=r.pop(),c=o.id,i=o.chain;if((d=z[c])&&!d.hot._selfAccepted){if(d.hot._selfDeclined)return{type:"self-declined",chain:i,moduleId:c};if(d.hot._main)return{type:"unaccepted",chain:i,moduleId:c};for(var a=0;a<d.parents.length;a++){var l=d.parents[a],u=z[l];if(u){if(u.hot._declinedDependencies[c])return{type:"declined",chain:i.concat([l]),moduleId:c,parentId:l};-1===n.indexOf(l)&&(u.hot._acceptedDependencies[c]?(t[l]||(t[l]=[]),s(t[l],[c])):(delete t[l],n.push(l),r.push({chain:i.concat([l]),id:l})))}}}}return{type:"accepted",moduleId:e,outdatedModules:n,outdatedDependencies:t}}function s(e,n){for(var t=0;t<n.length;t++){var r=n[t];-1===e.indexOf(r)&&e.push(r)}}t=t||{};function i(){console.warn("[HMR] unexpected require("+f.moduleId+") to disposed module")}var a={},l=[],u={};for(var p in R)if(Object.prototype.hasOwnProperty.call(R,p)){var f;o=U(p);var h=!1,m=!1,v=!1,y="";switch((f=R[p]?c(o):{type:"disposed",moduleId:p}).chain&&(y="\nUpdate propagation: "+f.chain.join(" -> ")),f.type){case"self-declined":t.onDeclined&&t.onDeclined(f),t.ignoreDeclined||(h=new Error("Aborted because of self decline: "+f.moduleId+y));break;case"declined":t.onDeclined&&t.onDeclined(f),t.ignoreDeclined||(h=new Error("Aborted because of declined dependency: "+f.moduleId+" in "+f.parentId+y));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(f),t.ignoreUnaccepted||(h=new Error("Aborted because "+o+" is not accepted"+y));break;case"accepted":t.onAccepted&&t.onAccepted(f),m=!0;break;case"disposed":t.onDisposed&&t.onDisposed(f),v=!0;break;default:throw new Error("Unexception type "+f.type)}if(h)return T("abort"),Promise.reject(h);if(m)for(o in u[o]=R[o],s(l,f.outdatedModules),f.outdatedDependencies)Object.prototype.hasOwnProperty.call(f.outdatedDependencies,o)&&(a[o]||(a[o]=[]),s(a[o],f.outdatedDependencies[o]));v&&(s(l,[f.moduleId]),u[o]=i)}var b,g=[];for(n=0;n<l.length;n++)o=l[n],z[o]&&z[o].hot._selfAccepted&&u[o]!==i&&g.push({module:o,errorHandler:z[o].hot._selfAccepted});T("dispose"),Object.keys(C).forEach(function(e){!1===C[e]&&delete installedChunks[e]});for(var O,x,E=l.slice();0<E.length;)if(o=E.pop(),d=z[o]){var w={},j=d.hot._disposeHandlers;for(r=0;r<j.length;r++)(e=j[r])(w);for(A[o]=w,d.hot.active=!1,delete z[o],delete a[o],r=0;r<d.children.length;r++){var _=z[d.children[r]];_&&0<=(b=_.parents.indexOf(o))&&_.parents.splice(b,1)}}for(o in a)if(Object.prototype.hasOwnProperty.call(a,o)&&(d=z[o]))for(x=a[o],r=0;r<x.length;r++)O=x[r],0<=(b=d.children.indexOf(O))&&d.children.splice(b,1);for(o in T("apply"),k=M,u)Object.prototype.hasOwnProperty.call(u,o)&&(S[o]=u[o]);var P=null;for(o in a)if(Object.prototype.hasOwnProperty.call(a,o)&&(d=z[o])){x=a[o];var D=[];for(n=0;n<x.length;n++)if(O=x[n],e=d.hot._acceptedDependencies[O]){if(-1!==D.indexOf(e))continue;D.push(e)}for(n=0;n<D.length;n++){e=D[n];try{e(x)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:o,dependencyId:x[n],error:e}),t.ignoreErrored||(P=P||e)}}}for(n=0;n<g.length;n++){var q=g[n];o=q.module,H=[o];try{L(o)}catch(n){if("function"==typeof q.errorHandler)try{q.errorHandler(n)}catch(e){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:o,error:e,originalError:n}),t.ignoreErrored||(P=P||e),P=P||n}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:o,error:n}),t.ignoreErrored||(P=P||n)}}return P?(T("fail"),Promise.reject(P)):(T("idle"),new Promise(function(e){e(l)}))}var z={};function L(e){if(z[e])return z[e].exports;var n,r,t=z[e]={i:e,l:!1,exports:{},hot:(r={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:c!==(n=e),active:!0,accept:function(e,n){if(void 0===e)r._selfAccepted=!0;else if("function"==typeof e)r._selfAccepted=e;else if("object"==typeof e)for(var t=0;t<e.length;t++)r._acceptedDependencies[e[t]]=n||function(){};else r._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)r._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)r._declinedDependencies[e[n]]=!0;else r._declinedDependencies[e]=!0},dispose:function(e){r._disposeHandlers.push(e)},addDisposeHandler:function(e){r._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=r._disposeHandlers.indexOf(e);0<=n&&r._disposeHandlers.splice(n,1)},check:f,apply:v,status:function(e){if(!e)return I;a.push(e)},addStatusHandler:function(e){a.push(e)},removeStatusHandler:function(e){var n=a.indexOf(e);0<=n&&a.splice(n,1)},data:A[n]},c=void 0,r),parents:(o=H,H=[],o),children:[]};return S[e].call(t.exports,t,t.exports,i(e)),t.l=!0,t.exports}L.m=S,L.c=z,L.d=function(e,n,t){L.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},L.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},L.t=function(n,e){if(1&e&&(n=L(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(L.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var r in n)L.d(t,r,function(e){return n[e]}.bind(null,r));return t},L.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return L.d(n,"a",n),n},L.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},L.p="/build",L.h=function(){return k},i(18)(L.s=18)}([function(e,n){e.exports=require("react")},function(e,n){e.exports=require("react-router-dom")},function(e,n){e.exports=require("styled-components")},function(e,n){e.exports=require("@apollo/react-hooks")},function(e,n){e.exports=require("express")},function(e,n){e.exports=require("body-parser")},function(e,n){e.exports=require("webpack")},function(e,n){e.exports=require("cors")},function(e,n){e.exports=require("webpack-dev-middleware")},function(e,n){e.exports=require("webpack-hot-middleware")},function(e,n){e.exports=require("cookie-parser")},function(e,n){e.exports=require("node-fetch")},function(e,n){e.exports=require("react-dom/server")},function(e,n){e.exports=require("@apollo/react-ssr")},function(e,n){e.exports=require("apollo-client")},function(e,n){e.exports=require("apollo-link-http")},function(e,n){e.exports=require("apollo-cache-inmemory")},function(e,n){e.exports=require("react-helmet")},function(e,n,t){t(19),e.exports=t(25)},function(e,n){e.exports=require("@babel/polyfill")},function(e,n){e.exports=require("graphql-tag")},function(e,n){e.exports=require("dotenv")},function(o,e,c){(function(e){var n=c(23),t=c(6),r=c(24);o.exports={mode:"production",entry:["@babel/polyfill","webpack-hot-middleware/client","./src/client"],plugins:[new t.HotModuleReplacementPlugin],output:{filename:"js/[name].bundle.js",path:n.resolve(e,"build"),publicPath:"/build"},module:{rules:[{test:/\.js$/,exclude:/node_modules/,use:{loader:"babel-loader",options:{presets:["@babel/preset-env","@babel/preset-react"],plugins:[["babel-plugin-styled-components",{ssr:!0,displayName:!0}]]}}}]},optimization:{minimizer:[new r({extractComments:"all"})]}}}).call(this,"/")},function(e,n){e.exports=require("path")},function(e,n){e.exports=require("uglifyjs-webpack-plugin")},function(e,n,t){"use strict";t.r(n);var r=t(4),o=t.n(r),c=t(7),i=t.n(c),a=t(5),l=t.n(a),u=t(8),d=t.n(u),s=t(9),p=t.n(s),f=t(10),h=t.n(f),m=t(0),v=t.n(m),y=t(11),b=t.n(y),g=t(12),O=t(1),x=t(13),E=t(3),w=t(14),j=t(15),_=t(16),P=t(17),D=t(2);function q(){return v.a.createElement("div",null,v.a.createElement("p",null,"Dashboard"))}function S(){return v.a.createElement("div",null,v.a.createElement("p",null,"Logsin Page"))}function k(){return v.a.createElement("div",null,v.a.createElement("p",null,"404 NotFound"))}function A(){var e=function(e,n){n=n||e.slice(0);return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}(["\n  query {\n    currentUser {\n      email\n      name\n      role\n    }\n  }\n"]);return A=function(){return e},e}function H(e){var n=e.children,t=Object(E.useQuery)(I),r=t.data,o=t.loading,c=t.refetch;return v.a.createElement(T.Provider,{value:{data:r,loading:o,refetch:c}},n)}var I=t(20)(A()),T=v.a.createContext();function R(){var e=Object(m.useContext)(T),n=e.data;return e.loading?null:v.a.createElement(O.Switch,null,v.a.createElement(O.Route,{exact:!0,path:"/login"},n.currentUser?v.a.createElement(O.Redirect,{to:"/dashboard"}):v.a.createElement(S,null)),v.a.createElement(O.Route,{exact:!0,path:"/dashboard"},n.currentUser?v.a.createElement(q,null):v.a.createElement(O.Redirect,{to:"/login"})),v.a.createElement(O.Route,{component:k}))}function M(){var e=function(e,n){n=n||e.slice(0);return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}(["\n\tbody {\n    color: red;\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n  }\n"]);return M=function(){return e},e}var C=Object(D.createGlobalStyle)(M());function U(){return v.a.createElement(H,null,v.a.createElement(C,null),v.a.createElement(R,null))}function z(){return(z=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function L(e){var n=e.content,t=e.state,r=e.helmet,o=e.errorContent,c=e.styleTags,i=r.htmlAttributes.toComponent(),a=r.bodyAttributes.toComponent();return v.a.createElement("html",z({lang:"en"},i),v.a.createElement("head",null,r.title.toComponent(),r.meta.toComponent(),r.link.toComponent(),c),v.a.createElement("body",a,v.a.createElement("div",{id:"root",dangerouslySetInnerHTML:{__html:n||o}}),v.a.createElement("script",{charSet:"UTF-8",dangerouslySetInnerHTML:{__html:"window.__APOLLO_STATE__=".concat(JSON.stringify(t).replace(/</g,"\\u003c"),";")}}),v.a.createElement("script",{charSet:"UTF-8",src:"".concat(process.env.BASE_ROOT,"/js/main.bundle.js")})))}function B(e,n,t,r,o,c,i){try{var a=e[c](i),l=a.value}catch(e){return void t(e)}a.done?n(l):Promise.resolve(l).then(r,o)}var F={},N=function(){var a,t=(a=regeneratorRuntime.mark(function e(n,c){var i,a,t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new w.ApolloClient({ssrMode:!0,link:Object(j.createHttpLink)({uri:process.env.API_ROOT,credentials:"same-origin",headers:{Authorization:"Bearer ".concat(n.cookies.token)},fetch:b.a}),cache:new _.InMemoryCache});case 2:i=e.sent,a=new D.ServerStyleSheet,t=v.a.createElement(E.ApolloProvider,{client:i},v.a.createElement(O.StaticRouter,{location:n.url,context:F},v.a.createElement(D.StyleSheetManager,{sheet:a.instance},v.a.createElement(U,null)))),Object(x.renderToStringWithData)(t).then(function(e){var n=i.extract(),t=P.Helmet.renderStatic(),r=a.getStyleElement(),o=v.a.createElement(L,{content:e,state:n,styleTags:r,helmet:t});return c.send("<!DOCTYPE html>\n".concat(Object(g.renderToStaticMarkup)(o)))});case 6:case"end":return e.stop()}},e)}),function(){var e=this,i=arguments;return new Promise(function(n,t){var r=a.apply(e,i);function o(e){B(r,n,t,o,c,"next",e)}function c(e){B(r,n,t,o,c,"throw",e)}o(void 0)})});return function(e,n){return t.apply(this,arguments)}}();t(21).config();var G=t(6),V=t(22),J=G(V),Q=o()();"development"===process.env.DEV&&(Q.use(d()(J,{publicPath:V.output.publicPath,serverSideRender:!0,index:!1})),Q.use(p()(J))),Q.use(i()({origin:process.env.BASE_ROOT,credentials:!0})),Q.use(l.a.json()),Q.use(l.a.urlencoded({extended:!0})),Q.use(h()()),Q.use("/",o.a.static("build")),Q.get(["*/:param","*"],function(e,n){n.status(200),N(e,n)}),Q.listen(process.env.PORT||3e3,function(){console.log("http://localhost:".concat(process.env.PORT))})}]);